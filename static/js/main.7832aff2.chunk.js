(this["webpackJsonpanterior-chain"]=this["webpackJsonpanterior-chain"]||[]).push([[0],{43:function(e,t,s){},44:function(e,t,s){},67:function(e,t,s){},69:function(e,t,s){},70:function(e,t,s){},71:function(e,t,s){"use strict";s.r(t);var a={};s.r(a),s.d(a,"errorStudent",(function(){return ve})),s.d(a,"errorCampus",(function(){return x}));var c=s(0),n=s(1),r=s(18),i=s.n(r),d=(s(43),s(44),s(6)),l=s(5),o=s(16),u=s(4),j=s.n(u);const m="https://ttp-crud-dlbears.herokuapp.com";const b="FETCH_ALL_CAMPUSES",p=()=>e=>j.a.get("".concat(m,"/routes/campusAll")).then((e=>e.data)).then((({campus:t})=>e({type:b,payload:t}))).catch((e=>console.log(e))),O="FETCH_ALL_STUDENTS",h=()=>e=>j.a.get("".concat(m,"/routes/studentAll")).then((e=>e.data)).then((({student:t})=>e({type:O,payload:t}))).catch((e=>console.log(e))),f="ERROR_FETCH_CAMPUS",v=e=>t=>t((e=>({type:f,payload:e}))(e));var x=(e=[],t)=>{switch(t.type){case f:return t.payload;default:return e}};const g="FETCH_CAMPUS",E=e=>t=>j.a.get("".concat(m,"/routes/campusOne/").concat(e)).then((({status:e,data:t})=>({status:e,data:t}))).then((({status:e,data:{campus:s}})=>{if(!(200<=e&&e<300))throw new Error("Error fetching campus");t((e=>({type:g,payload:e}))(s))})).catch((s=>v(e)(t))),C="FETCH_STUDENT",S=e=>t=>j.a.get("".concat(m,"/routes/studentOne/").concat(e)).then((({status:e,data:t})=>({status:e,data:t}))).then((({status:e,data:{student:s}})=>{if(!(200<=e&&e<300))throw new Error("Error fetching student");t((e=>({type:C,payload:e}))(s))})).catch((e=>console.log(e)));var N=s(2);const y="CREATE_CAMPUS",R=e=>t=>(console.log("CAMPUS DATA: ",e),j.a.post("".concat(m,"/routes/campusCreate"),e).then((({status:e,data:t})=>({status:e,data:t}))).then((({status:s,data:{campus:{id:a}}})=>{if(!(200<=s&&s<300))throw new Error("Error creating campus");var c;t((c=Object(N.a)(Object(N.a)({},e),{},{id:a}),{type:y,payload:c}))})).catch((e=>console.log(e)))),D="CREATE_STUDENT",A=e=>t=>j.a.post("".concat(m,"/routes/studentCreate"),e).then((({status:e,data:t})=>({status:e,data:t}))).then((({status:s,data:{student:{id:a}}})=>{if(!(200<=s&&s<300))throw new Error("Error creating student");var c;t((c=Object(N.a)(Object(N.a)({},e),{},{id:a}),{type:D,payload:c}))})).catch((e=>console.log(e))),U="DELETE_CAMPUS",T=e=>t=>j.a.delete("".concat(m,"/routes/campusDelete/").concat(e)).then((e=>e.status)).then((s=>{if(!(200<=s&&s<300))throw new Error("Error deleting campus");t((e=>({type:U,payload:e}))(e))})).catch((e=>console.log(e))),w="DELETE_STUDENT",I=e=>t=>j.a.delete("".concat(m,"/routes/studentDelete/").concat(e)).then((e=>e.status)).then((s=>{if(!(200<=s&&s<300))throw new Error("Error deleting student");t((e=>({type:w,payload:e}))(e))})).catch((e=>console.log(e)));var k=s(7);const M="UPDATE_CAMPUS",P=(e,t,{name:s,imageUrl:a,address:c,description:n})=>r=>{Promise.allSettled([...t.map((([t,s])=>"REMOVE"===t?Object(N.a)(Object(N.a)({},s),{},{campusId:null}):Object(N.a)(Object(N.a)({},s),{},{campusId:e}))).map((e=>{let t=e.id,s=Object(k.a)(e,["id"]);return j.a.put("".concat(m,"/routes/studentUpdate/").concat(t),s)})),j.a.put("".concat(m,"/routes/campusUpdate/").concat(e),{name:s,address:c,description:n,imageUrl:a})]).then((e=>{var t;r((t=e.map((e=>{let t=e.value.data,s=t.message,a=Object(k.a)(t,["message"]);return Object(N.a)({message:s},a)})).reduce((({students:e,campus:t},s)=>s.message.includes("STUDENT")?{students:[...e,s.student],campus:t}:s.message.includes("CAMPUS")?{students:e,campus:s.campus}:{students:e,campus:t}),{students:[],campus:{}}),{type:M,payload:t}))})).catch((e=>console.error(e)))},_="UPDATE_STUDENT",L=e=>({type:_,payload:e}),F="REDIRECT_RESET",V=()=>e=>e({type:F});var q=s(9);s(67);const B=({onSubmit:e,formRef:t})=>{const s=Object(n.useState)({name:"",address:""}),a=Object(q.a)(s,2),r=a[0],i=r.name,d=r.address,l=a[1];return console.log(i),Object(c.jsxs)("form",{onSubmit:t=>{t.preventDefault(),console.log("CAMPUS_SUBMIT: ",i,d),e(i,d)},ref:t,children:[Object(c.jsx)("label",{for:"Name",children:"Name:"}),Object(c.jsx)("input",{type:"text",id:"Name",name:"Name",value:i,onChange:e=>l({name:e.target.value,address:d}),required:!0}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"Address",children:"Address:"}),Object(c.jsx)("input",{type:"text",id:"Address",name:"Address",value:d,onChange:e=>l({address:e.target.value,name:i}),required:!0}),Object(c.jsx)("br",{})]})};class H extends n.Component{constructor(e){super(e),this.handleChange=e=>{!0===this.state.button?this.setState({button:!1}):this.setState({button:!0})},this.state={button:!0}}render(){return console.log("CampusView ",this.props.isEditing),Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)("div",{className:"campus",children:this.props.campuses.map((({id:e,name:t})=>Object(c.jsxs)("div",{className:"Campus",children:[Object(c.jsx)(d.b,{to:"/campuses/".concat(e),children:Object(c.jsx)("h1",{className:"campustext",children:t})}),Object(c.jsx)("div",{className:"buttonspace",children:Object(c.jsx)("button",{onClick:()=>this.props.onDelete(e),type:"button",className:"Button",children:"Delete"})})]},e)))}),0===this.props.campuses.length&&Object(c.jsx)("div",{className:"noCampus",children:Object(c.jsxs)("p",{children:["There are no campuses to view.",Object(c.jsx)("br",{}),'Click "Add" to add a campus']})}),this.props.isEditing&&Object(c.jsx)(B,{onSubmit:this.props.onSubmit,formRef:this.props.formRef})]})}}var G=H;s(69);const J=({onSubmit:e,formRef:t})=>{const s=Object(n.useState)({firstname:"",lastname:"",email:""}),a=Object(q.a)(s,2),r=a[0],i=r.firstname,d=r.lastname,l=r.email,o=a[1];return Object(c.jsxs)("form",{onSubmit:t=>{t.preventDefault(),console.log("STUDENT_SUBMIT: ",i,d,l),e(i,d,l)},ref:t,children:[Object(c.jsx)("label",{for:"Namef",children:"First Name:"}),Object(c.jsx)("input",{type:"text",id:"Namef",name:"Namef",value:i,onChange:e=>o({firstname:e.target.value,lastname:d,email:l}),required:!0}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"Namel",children:"Last Name:"}),Object(c.jsx)("input",{type:"text",id:"Namel",name:"Namel",value:d,onChange:e=>o({firstname:i,lastname:e.target.value,email:l}),required:!0}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"Email",children:"Email:"}),Object(c.jsx)("input",{type:"email",id:"Email",name:"Email",value:l,onChange:e=>o({firstname:i,lastname:d,email:e.target.value}),required:!0}),Object(c.jsx)("br",{})]})};class W extends n.Component{constructor(e){super(e),this.handleChange=e=>{!0===this.state.button?this.setState({button:!1}):this.setState({button:!0})},this.state={button:!0}}render(){return Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)("div",{className:"student",children:this.props.students.map((({id:e,firstname:t,lastname:s})=>Object(c.jsxs)("div",{className:"Student",children:[Object(c.jsx)(d.b,{to:"/students/".concat(e),children:Object(c.jsx)("div",{className:"studenttext",children:Object(c.jsx)("h1",{children:"".concat(t," ").concat(s)})})}),Object(c.jsx)("div",{onClick:()=>this.props.onDelete(e),className:"bs4",children:Object(c.jsx)("button",{type:"button",class:"Button",children:"Delete"})})]},e)))}),0===this.props.students.length&&Object(c.jsx)("div",{className:"noStudent",children:Object(c.jsxs)("p",{children:["There are no students to view.",Object(c.jsx)("br",{}),'Click "Add" to add a student']})}),this.props.isEditing&&Object(c.jsx)(J,{onSubmit:this.props.onSubmit,formRef:this.props.formRef})]})}}var z=W;const $=({student:e,campuses:t,setValue:s,onSubmit:a,formRef:n})=>Object(c.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Submitted"),a()},ref:n,children:[Object(c.jsx)("label",{for:"Name",children:"First Name:"}),Object(c.jsx)("input",{type:"text",id:"Name",name:"Name",value:null===e||void 0===e?void 0:e.firstname,onChange:t=>s(Object(N.a)(Object(N.a)({},e),{},{firstname:t.target.value})),required:!0}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"lName",children:"Last Name:"}),Object(c.jsx)("input",{type:"text",id:"lName",name:"lName",value:null===e||void 0===e?void 0:e.lastname,onChange:t=>s(Object(N.a)(Object(N.a)({},e),{},{lastname:t.target.value})),required:!0}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"Email",children:"Email:"}),Object(c.jsx)("input",{type:"email",id:"Email",name:"Email",value:null===e||void 0===e?void 0:e.email,onChange:t=>s(Object(N.a)(Object(N.a)({},e),{},{email:t.target.value})),required:!0}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"GPA",children:"GPA:"}),Object(c.jsx)("input",{type:"text",id:"GPA",name:"GPA",value:null===e||void 0===e?void 0:e.gpa,onChange:t=>s(Object(N.a)(Object(N.a)({},e),{},{gpa:t.target.value}))}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"campus",children:"Campus:"}),Object(c.jsxs)("select",{value:e.campusId,onChange:t=>s(Object(N.a)(Object(N.a)({},e),{},{campusId:""===t.target.value?null:t.target.value})),children:[Object(c.jsx)("option",{value:"",children:"Not Assigned"}),t.map((({id:e,name:t})=>Object(c.jsx)("option",{value:e,children:"".concat(e,": ").concat(t)})))]}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"imageUrl",children:"Profile Image URL:"}),Object(c.jsx)("input",{type:"url",id:"imageUrl",name:"imageUrl",value:null===e||void 0===e?void 0:e.imageUrl,onChange:t=>s(Object(N.a)(Object(N.a)({},e),{},{imageUrl:t.target.value}))}),Object(c.jsx)("br",{})]});var K=({isEditing:e,formRef:t,student:s,campuses:a,onSubmit:r})=>{var i;const l=Object(n.useState)(s),o=Object(q.a)(l,2),u=o[0],j=o[1];return Object(n.useEffect)((()=>{j(s)}),[s,e]),Object(c.jsx)("div",{className:"data",children:e?Object(c.jsx)($,{formRef:t,student:u,campuses:a,setValue:j,onSubmit:()=>r(u)}):Object(c.jsxs)("p",{children:["First Name: ",null===s||void 0===s?void 0:s.firstname,Object(c.jsx)("br",{}),"Last Name: ",null===s||void 0===s?void 0:s.lastname,Object(c.jsx)("br",{}),"Email: ",null===s||void 0===s?void 0:s.email,Object(c.jsx)("br",{}),"Campus: ",null!==(i=null===s||void 0===s?void 0:s.campusId)&&void 0!==i&&i?Object(c.jsx)(d.b,{to:"/campuses/".concat(s.campusId),children:s.campusId}):"Not Assigned",Object(c.jsx)("br",{}),"GPA: ",null===s||void 0===s?void 0:s.gpa,Object(c.jsx)("br",{}),Object(c.jsx)("img",{src:null===s||void 0===s?void 0:s.imageUrl,alt:"",className:"stuImage"})]})})};const Q=({campus:e,setValue:t,onSubmit:s,formRef:a})=>Object(c.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Submitted"),s()},ref:a,children:[Object(c.jsx)("label",{for:"Name",children:"Name:"}),Object(c.jsx)("input",{type:"text",id:"Name",name:"Name",value:null===e||void 0===e?void 0:e.name,onChange:s=>t(Object(N.a)(Object(N.a)({},e),{},{name:s.target.value})),required:!0}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"Address",children:"Address:"}),Object(c.jsx)("input",{type:"text",id:"Address",name:"Address",value:null===e||void 0===e?void 0:e.address,onChange:s=>t(Object(N.a)(Object(N.a)({},e),{},{address:s.target.value})),required:!0}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"description",children:"Description:"}),Object(c.jsx)("input",{type:"text",id:"description",name:"description",value:null===e||void 0===e?void 0:e.description,onChange:s=>t(Object(N.a)(Object(N.a)({},e),{},{description:s.target.value}))}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{for:"imageUrl",children:"Image URL:"}),Object(c.jsx)("input",{type:"url",id:"imageUrl",name:"imageUrl",value:null===e||void 0===e?void 0:e.imageUrl,onChange:s=>t(Object(N.a)(Object(N.a)({},e),{},{imageUrl:s.target.value}))}),Object(c.jsx)("br",{})]});var X=({campus:e,students:t,isEditing:s,isDeleting:a,onSubmit:r,formRef:i})=>{var l,o,u,j;const m=Object(n.useState)(e),b=Object(q.a)(m,2),p=b[0],O=b[1],h=Object(n.useState)([]),f=Object(q.a)(h,2),v=f[0],x=f[1],g=Object(n.useState)(""),E=Object(q.a)(g,2),C=E[0],S=E[1];return Object(n.useEffect)((()=>{O(e)}),[e]),Object(n.useEffect)((()=>{x([]),O(e)}),[s]),Object(n.useEffect)((()=>{console.log("selected add: ",C),console.log("updates ",v,t.filter((({id:e})=>v.filter((([t,s])=>"ADD"===t&&s===e)).reduce(((e,t)=>e||!0),!1))))}),[C,v]),Object(c.jsxs)("div",{className:"data",children:[s?Object(c.jsx)(Q,{formRef:i,setValue:O,campus:p,onSubmit:()=>{console.log(p.name),r(v.map((([e,s])=>[e,t.reduce(((e,t)=>{let a=t.id,c=Object(k.a)(t,["id"]);return a===s?Object(N.a)({id:a},c):e}),null)])),p)}}):Object(c.jsxs)("p",{children:["Name: ",null===e||void 0===e?void 0:e.name,Object(c.jsx)("br",{}),"Address: ",null===e||void 0===e?void 0:e.address,Object(c.jsx)("br",{}),null===e||void 0===e?void 0:e.description,Object(c.jsx)("br",{}),Object(c.jsx)("img",{src:null===e||void 0===e?void 0:e.imageUrl,alt:"",className:"CImage"})]}),Object(c.jsxs)("div",{className:"stuList",children:[Object(c.jsx)("p",{children:Object(c.jsx)("u",{children:"Students"})}),s?null===t||void 0===t||null===(o=t.filter((({campusId:t})=>t===(null===e||void 0===e?void 0:e.id))))||void 0===o||null===(u=o.filter((({id:e})=>v.filter((([t,s])=>"REMOVE"===t&&s===e)).reduce(((e,t)=>e&&!1),!0))).concat(t.filter((({id:e})=>v.filter((([t,s])=>"ADD"===t&&s===e)).reduce(((e,t)=>e||!0),!1)))).reduce(((e,t)=>0===e.length?[t]:[...e.filter((({id:e})=>e!==t.id)),t]),[]))||void 0===u?void 0:u.map((e=>Object(c.jsxs)("div",{style:{flexDirection:"row",display:"flex",justifyContent:"center"},children:[Object(c.jsx)("div",{className:"stu",children:e.firstname}),Object(c.jsx)("div",{className:"remove",onClick:()=>{return t=e.id,x([...v.filter((([e,s])=>!("ADD"===e&&Number(t)===s))),["REMOVE",Number(t)]]);var t},children:" \u2013"})]}))):null===t||void 0===t||null===(l=t.filter((({campusId:t})=>t===(null===e||void 0===e?void 0:e.id))))||void 0===l?void 0:l.map((e=>Object(c.jsx)(d.b,{to:"/students/".concat(e.id),children:Object(c.jsx)("div",{className:"stu",children:e.firstname})}))),s&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("select",{value:C,onChange:e=>S(e.target.value),children:[Object(c.jsx)("option",{value:"",selected:!0,children:"Select student"}),null===(j=t.filter((({campusId:t})=>t!==(null===e||void 0===e?void 0:e.id))).concat(t.filter((({id:e})=>v.filter((([t,s])=>"REMOVE"===t&&e===s)).reduce(((e,t)=>e||!0),!1)))))||void 0===j?void 0:j.filter((({id:e})=>v.filter((([t,s])=>"ADD"===t&&s===e)).reduce(((e,t)=>e&&!1),!0))).reduce(((e,t)=>0===e.length?[t]:[...e.filter((({id:e})=>e!==t.id)),t]),[]).sort((({id:e},{id:t})=>e-t)).map((({id:e,firstname:t,lastname:s})=>Object(c.jsx)("option",{value:e,children:"".concat(e,": ").concat(s,", ").concat(t)})))]}),Object(c.jsx)("div",{className:"add",onClick:()=>{var e;""!==C&&(e=C,x([...v.filter((([t,s])=>!("REMOVE"===t&&Number(e)===s))),["ADD",Number(e)]]),S(""))},children:"+"})]})]})]})};var Y=Object(o.b)((({state:{campuses:e,students:t,campusRedirect:s},errorCampus:a})=>({campuses:e,students:t,redirect:s,errorID:a})),(e=>({fetchAllCampuses:()=>e(p()),fetchAllStudents:()=>e(h()),fetchCampus:t=>e(E(t)),createCampus:(t,s,a,c)=>e(R({name:t,address:s,description:a,imageUrl:c})),updateCampus:(t,{id:s,name:a,address:c,students:n,description:r,imageUrl:i})=>{const d=((e,t)=>t.filter((([t,{id:s}])=>"ADD"===t?!e.filter((({id:e})=>e===s)).length>0:"REMOVE"===t&&e.filter((({id:e})=>e===s)).length>0)))(n,t);console.log("Update Values: ","\n            ID: ".concat(s,",\n            Name: ").concat(a,",\n            Address: ").concat(c,",\n            Description: ").concat(r,",\n            imageUrl: ").concat(i,",\n            students: ").concat(JSON.stringify(n,null,2),"\n            studentUpdates: ").concat(JSON.stringify(t,null,2),"\n            reconciledUpdates: ").concat(JSON.stringify(d,null,2),"\n        ")),e(P(s,d,{name:a,address:c,description:r,imageUrl:i}))},deleteCampus:t=>e(T(t)),resetRedirect:()=>e(V())})))((({reset:e,pathname:t,redirect:s,formRef:a,isEditing:r,isDeleting:i,isConfirmed:d,isSingle:o,errorID:u,campuses:j,students:m,fetchAllCampuses:b,fetchAllStudents:p,fetchCampus:O,createCampus:h,updateCampus:f,deleteCampus:v,resetRedirect:x})=>{const g=Object(l.h)().id;let E,C=!1;if(o)try{E=Number(g),C=Number.isInteger(E)}catch(S){C=!1}return Object(n.useEffect)((()=>{o&&i&&d&&v(E)}),[o,i,d]),Object(n.useEffect)((()=>{s&&o&&t==="/campuses/".concat(s)&&e()}),[s,o]),Object(n.useEffect)((()=>{(s||""===s)&&t==="/campuses/".concat(s)&&x()}),[t,s]),Object(n.useEffect)((()=>{o&&C?(O(E),p()):b()}),[E]),o||s?!C||u===E||s||""===s?Object(c.jsx)(l.a,{to:{pathname:u===E?"/404":s||""===s?"/campuses/".concat(s):"/400",state:{type:"campuses",id:s||E}}}):Object(c.jsx)(X,{isEditing:r,formRef:a,onSubmit:f,students:m,campus:j.filter((({id:e})=>e===E))[0]}):Object(c.jsx)(G,{formRef:a,onSubmit:h,onDelete:v,isEditing:r,campuses:j})}));var Z=Object(o.b)((({state:{campuses:e,students:t,studentRedirect:s},errorStudent:a})=>({students:t,campuses:e,redirect:s,errorID:a})),(e=>({fetchAllStudents:()=>e(h()),fetchAllCampuses:()=>e(p()),fetchStudent:t=>e(S(t)),createStudent:(t,s,a,c,n,r)=>e(A({firstname:t,lastname:s,email:a,gpa:c,campusId:n,imageUrl:r})),updateStudent:t=>{const s=t.id,a=t.firstname,c=t.lastname,n=t.email,r=t.gpa,i=t.campusId,d=t.imageUrl;console.log("StuUp: ",t),e(((e,t)=>s=>{if(null!=t.campusId){const a=t.campusId,c=Object(k.a)(t,["campusId"]);return j.a.get("".concat(m,"/routes/campusOne/").concat(a),{validateStatus:e=>200<=e&&e<300||404===e}).then((({status:a})=>{const n=200<=a&&a<300?t:Object(N.a)(Object(N.a)({},c),{},{campusId:null});j.a.put("".concat(m,"/routes/studentUpdate/").concat(e),n).then((({status:e,data:t})=>{if(!(200<=e&&e<300))throw new Error("Error updating student");s(L(t))})).catch((e=>console.log(e)))})).catch((e=>console.log(e)))}return j.a.put("".concat(m,"/routes/studentUpdate/").concat(e),t).then((({status:e,data:t})=>({status:e,data:t}))).then((({status:e,data:{student:t}})=>{if(!(200<=e&&e<300))throw new Error("Error updating student");s(L(t))})).catch((e=>console.log(e)))})(s,{firstname:a,lastname:c,email:n,gpa:r,campusId:i,imageUrl:d}))},deleteStudent:t=>e(I(t)),resetRedirect:()=>e(V())})))((({reset:e,pathname:t,redirect:s,formRef:a,isEditing:r,isDeleting:i,isConfirmed:d,isSingle:o,errorID:u,students:j,campuses:m,fetchAllStudents:b,fetchAllCampuses:p,fetchStudent:O,createStudent:h,updateStudent:f,deleteStudent:v,resetRedirect:x})=>{const g=Object(l.h)().id;let E,C=!1;if(o)try{E=Number(g),C=Number.isInteger(E)}catch(S){C=!1}return Object(n.useEffect)((()=>{o&&i&&d&&v(E)}),[o,i,d]),Object(n.useEffect)((()=>{s&&o&&t==="/students/".concat(s)&&e()}),[s,o]),Object(n.useEffect)((()=>{(s||""===s)&&t==="/students/".concat(s)&&x()}),[t,s]),Object(n.useEffect)((()=>{o&&C?(O(E),p()):b()}),[E]),o||s?!C||u===E||s||""===s?Object(c.jsx)(l.a,{to:{pathname:u===E?"/404":s||""===s?"/students/".concat(s):"/400",state:{type:"students",id:s||E}}}):Object(c.jsx)(K,{isEditing:r,formRef:a,onSubmit:f,student:j.filter((({id:e})=>e===E))[0],campuses:m}):Object(c.jsx)(z,{formRef:a,onSubmit:h,onDelete:v,isEditing:r,students:j})}));s(70);const ee=e=>e[e.length-1],te={position:"sticky",display:"flex",flexDirection:"row",backgroundColor:"blueviolet",top:0,marginBottom:20},se=()=>Object(c.jsxs)("nav",{style:te,children:[Object(c.jsx)(d.b,{to:"/",children:Object(c.jsx)("h2",{children:"Home"})}),Object(c.jsx)(d.b,{to:"/campuses",children:Object(c.jsx)("h2",{children:"Campuses"})}),Object(c.jsx)(d.b,{to:"/students",children:Object(c.jsx)("h2",{children:"Students"})})]}),ae=({buttons:e=[]})=>Object(c.jsx)("footer",{style:{position:"sticky",color:"black",bottom:0,left:0,display:"flex",backgroundColor:"blueviolet",marginTop:20},children:null===e||void 0===e?void 0:e.map((([e,t])=>Object(c.jsx)("h2",{style:{flex:1,flexBasis:"50%"},onClick:t,children:e})))}),ce=e=>({location:t})=>{const s=Object(l.g)().pathname,a=Object(n.useState)(!1),r=Object(q.a)(a,2),i=r[0],d=r[1],o=Object(n.useState)(!1),u=Object(q.a)(o,2),j=u[0],m=u[1],b=Object(n.useState)(!1),p=Object(q.a)(b,2),O=p[0],h=p[1],f=Object(n.useRef)(),v=!(Number.isNaN(Number(ee(s.split("/"))))||""===ee(s.split("/"))),x=s.includes("/campuses")||s.includes("/students"),g=()=>{d(!1),m(!1),h(!1)};Object(n.useEffect)((()=>{g()}),[s]),Object(n.useEffect)((()=>{var e,t,s;(console.log("formRef ",f.current),O&&null!==(e=null===(t=f.current)||void 0===t?void 0:t.checkValidity)&&void 0!==e&&e)&&(console.log("Confirmed..."),f.current.checkValidity()?null===(s=f.current)||void 0===s||s.dispatchEvent(new Event("submit",{bubbles:!0})):(f.current.reportValidity(),h(!1)))}),[f.current,O]);const E=[[[["ADD",()=>d(!0)]],[["CONFIRM",()=>h(!0)],["CANCEL",()=>{d(!1),h(!1)}]]],[[["EDIT",()=>d(!0)],["DELETE",()=>m(!0)]],[["CANCEL",()=>d(!1)],["SAVE",()=>h(!0)]],[["CONFIRM",()=>h(!0)],["CANCEL",()=>m(!1)]]]];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(se,{}),Object(c.jsx)(e,{location:t,reset:g,isEditing:i,isDeleting:j,isConfirmed:O,isSingle:v,pathname:s,formRef:e=>{f.current=e}}),x&&Object(c.jsx)(ae,{buttons:v?E[1][i?1:j?2:0]:E[0][i?1:0]})]})},ne={fontFamily:"Helvetica",fontSize:"40px",borderRadius:"10px",border:"10px ridge aqua",color:"black",backgroundColor:"blanchedalmond",overflow:"auto",margin:"5%",padding:"5%"},re=({location:{state:{type:e,id:t}={type:!1,id:""}}})=>Object(c.jsx)("div",{style:ne,children:Object(c.jsxs)("h1",{children:["404 Error: ",e&&"".concat(e," of ").concat(t," "),"Not Found"]})}),ie=({location:{state:{type:e,id:t}}})=>Object(c.jsx)("div",{style:ne,children:Object(c.jsxs)("h1",{children:['400 Error: Malformed Request "',t,'" in "',e,"/",t,'" is not a valid ID']})}),de=()=>Object(c.jsx)("div",{style:ne,children:" Welcome to the CRUD app homepage, to modify students or campuses click on the text in the nav bar above"});var le=()=>Object(c.jsx)(d.a,{basename:"/TTP-CRUD-Frontend",children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:"/",component:ce(de)}),Object(c.jsx)(l.b,{exact:!0,path:["/campuses","/campuses/:id"],component:ce(Y)}),Object(c.jsx)(l.b,{exact:!0,path:["/students","/students/:id"],component:ce(Z)}),Object(c.jsx)(l.b,{exact:!0,strict:!0,path:"/400",component:ce(ie)}),Object(c.jsx)(l.b,{path:"*",component:ce(re)})]})});class oe extends n.Component{render(){return Object(c.jsx)(le,{})}}var ue=oe;class je extends n.Component{render(){return Object(c.jsx)("div",{className:"app",children:Object(c.jsx)("header",{className:"app-header",children:Object(c.jsx)(ue,{})})})}}var me=je,be=s(14),pe=s(35),Oe=s(36),he=s(37);const fe="ERROR_FETCH_STUDENT";var ve=(e=[],t)=>{switch(t.type){case fe:return t.payload;default:return e}};const xe={students:[],campuses:[],campusRedirect:!1,studentRedirect:!1},ge=(e,t)=>0===e.length?t:e.map((e=>{let s=e.id,a=Object(k.a)(e,["id"]);return t.reduce(((e,t)=>{let a=t.id,c=Object(k.a)(t,["id"]);return a===s?Object(N.a)({id:s},c):e}),!1)||Object(N.a)({id:s},a)})),Ee={[b]:(e,t)=>Object(N.a)(Object(N.a)({},e),{},{campuses:t}),[O]:(e,t)=>Object(N.a)(Object(N.a)({},e),{},{students:t}),[g]:(e,t)=>{let s=e.students,a=e.campuses,c=Object(k.a)(e,["students","campuses"]);return Object(N.a)({students:ge(s,t.students),campuses:ge(a,[t])},c)},[C]:(e,t)=>{var s;let a=e.students,c=e.campuses,n=Object(k.a)(e,["students","campuses"]);return null!==(s=null===t||void 0===t?void 0:t.campus)&&void 0!==s&&s?Object(N.a)({students:ge(a,[t]),campuses:ge(c,[t.campus])},n):Object(N.a)({students:ge(a,[t]),campuses:c},n)},[y]:(e,t)=>{let s=e.campuses,a=Object(k.a)(e,["campuses"]);return Object(N.a)(Object(N.a)({},a),{},{campuses:[...s,t],campusRedirect:t.id})},[D]:(e,t)=>{let s=e.students,a=Object(k.a)(e,["students"]);return Object(N.a)(Object(N.a)({},a),{},{students:[...s,t],studentRedirect:t.id})},[U]:(e,t)=>{let s=e.campuses,a=Object(k.a)(e,["campuses"]);return Object(N.a)(Object(N.a)({campuses:s.filter((({id:e})=>e!==t))},a),{},{campusRedirect:""})},[w]:(e,t)=>{let s=e.students,a=Object(k.a)(e,["students"]);return Object(N.a)(Object(N.a)({students:s.filter((({id:e})=>e!==t))},a),{},{studentRedirect:""})},[M]:(e,{students:t,campus:s})=>{let a=e.campuses,c=e.students,n=Object(k.a)(e,["campuses","students"]);return Object(N.a)(Object(N.a)({campuses:ge(a,[s]),students:ge(c,t)},n),{},{campusRedirect:s.id})},[_]:(e,t)=>{let s=e.students,a=Object(k.a)(e,["students"]);return Object(N.a)(Object(N.a)({students:ge(s,[t])},a),{},{studentRedirect:t.id})},[F]:e=>Object(N.a)(Object(N.a)({},e),{},{campusRedirect:!1,studentRedirect:!1})},Ce=Object(be.combineReducers)(Object(N.a)({state:(e=xe,{type:t,payload:s})=>void 0!=Ee[t]?Ee[t](e,s):e},a)),Se=Object(pe.createLogger)({collapsed:!0}),Ne=Object(he.composeWithDevTools)(Object(be.applyMiddleware)(Oe.a,Se));var ye=Object(be.createStore)(Ce,Ne);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(c.jsx)(o.a,{store:ye,children:Object(c.jsx)(d.a,{children:Object(c.jsx)(me,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))}},[[71,1,2]]]);
//# sourceMappingURL=main.7832aff2.chunk.js.map